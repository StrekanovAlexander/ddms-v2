{% extends 'templates/layout-admin.twig' %}

{% block title %}Редагування події: {{ post.id }}{% endblock %}

{% block content %}
  {% if post|length %}
    <h5 class="my-5">Редагування події: {{ post.id }}</h5>

   <form action="{{ path_for('admin.post.update') }}" method="POST">
      <div class="form-group">
        <label for="section_id" class="font-weight-bold">Відділення</label>
        <select class="form-control" name="section_id" id="section_id">
        {% for section in sections %}
          <option value="{{ section.id }}" {{ section.id == post.section_id ? 'selected' : '' }}>{{ section.title }}</option>
        {% endfor %}
        </select>
      </div>  

      <div class="form-group">
        <label for="title" class="font-weight-bold">Назва</label>
        <input class="form-control{{ errors.title ? ' is-invalid' : '' }}" name="title" id="title" value="{{ post.title }}">
      </div>

      <div class="form-group">
        <label for="intro" class="font-weight-bold">Інтро</label>
        <textarea class="form-control" id="intro" name="intro">{{ post.intro }}</textarea>
      </div>

      <div class="form-group">
        <label for="content" class="font-weight-bold">Опис</label>
        <textarea class="form-control" id="content" name="content">{{ post.content }}</textarea>
      </div>

      <div class="form-group">
        <label for="tags" class="font-weight-bold">Теги</label>
        <input class="form-control" name="tags" id="tags" value="{{ post.tags }}">
      </div>

      <div class="form-group">
        <div class="form-check">
          <label for="is_contest" class="form-check-label font-weight-bold">
            <input type="checkbox" class="form-check-input" name="is_contest" id="is_contest" {{ post.is_contest ? ' checked="checked"' : ''}}>Це конкурс
          </label>
        </div>
      </div>

      <div class="form-group">
        <div class="form-check">
          <label for="is_actual" class="form-check-label font-weight-bold">
            <input type="checkbox" class="form-check-input" name="is_actual" id="is_actual" {{ post.is_actual ? ' checked="checked"' : ''}}>Актуальність
          </label>
        </div>
      </div>

      <div class="form-group mt-5">
        <button class="btn btn-dark btn-sm" type="submit"><i class="fas fa-pencil-alt"></i> Зберігти</button>
      </div>

      <input type="hidden" name="id" id="id" value="{{ post.id }}">  
      {{ csrf.fields|raw }}
    </form> 
    {% include 'templates/partials/_tinymce.twig' %}
  {% endif %}
{% endblock %}
